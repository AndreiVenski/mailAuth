# Апи для регистрации пользователя и верефикации email

---

## Структура проекта:
```
api:
└── doc - документация swagger
cmd:
└── main.go - точка входа в программу , обьявление самых основных структур
config:
└── config.go - чтение файла .env и запись переменных окружения в Config{}
docker:
└── Dockerfile
internal:
├── auth:
│   ├── delivery - реализация handlers и роутеров
│   ├── repository - реализация authRepository для работы с db
│   ├── email - реализация authEmail для отправки писем
│   └── usecase - реализация authUseCase (бизнес правила приложения)
├── models - модели используемые в intern (некоторые используются только для документации swagger)
└── server - настройка а также запуск сервера
migrations - миграция базы данных перед запуском сервера, запускается в cmd/main.go
scripts - sql скрипты для заполнения базы данных тестовыми данными
pkg:
├── db - реализация подключения к базе данных
├── httpErrors - юзерские ошибки 
├── logger - базовая реализация логгера 
├── smtp_conn - подключение к smtp серверу 
└── utils - содержит работу с контекстом запроса, валидацию структур и генерацию access и refresh токенов 
.env - заполнен, можно не менять
docker-compose.yml - запуск контейнера с postgres и самим сервером
```
## Запуск проекта:
`docker compose up`

## Тестирование проекта:
Для запуска проекта нужно в .env поменять конфигурацию для smtp сервера, я тестировал с помощью mailtrap.io

Для удобства тестирования запустил swagger которым можно воспользоваться после запуска проекта на /swagger/

Так же для тестирования запускается скрипт add_data.sql в scripts и добавляет двух пользователей :
- email: 'johndoe@example.com' code: '123456'
- email: 'janesmith@example.com', code :'654321'


/v1/auth/register:
- Создание юзера по четырем параметрам name , nickname , email, password. nickname и email в базе данных уникальны так что не удастся создать несколько юзеров с одним email или с одним nickname

/v1/auth/verify
- Верефикация токена принимает два поля code и email


### Контакты:
- venskiandrei32@gmail.com
- telegram: @ban_ka
